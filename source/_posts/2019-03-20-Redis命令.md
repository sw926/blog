---
title: Redis命令
date: 2019-03-20 15:36:57
category: Other
tags: 
    - Redis
---

连接：

``` sh
redis-cli -h {host} -p {port}
```

设置一个：

``` sh
127.0.0.1:6379> set aaa bbb
OK
```

获取值，成功的话返回值，失败时 nil

``` sh
127.0.0.1:6379> get aaa
"bbb"
127.0.0.1:6379> get ddd
(nil)
```

值是否存在，若 key 存在，返回 1 ，否则返回 0：

``` sh
127.0.0.1:6379> exists aaa
(integer) 1
```

获取keys:

``` sh
127.0.0.1:6379> keys aaa
1) "aaa"
127.0.0.1:6379> keys ddd
(empty list or set)
127.0.0.1:6379>
```

获取过期时间，当 key 不存在时，返回 -2 。 当 key 存在但没有设置剩余生存时间时，返回 -1 。 否则，以秒为单位，返回 key 的剩余生存时间。：

``` sh
127.0.0.1:6379> ttl aaa
(integer) -1
127.0.0.1:6379> ttl ddd
(integer) -2
```

设置过期时间：

``` sh
redis> EXPIRE cache_page 30  # 设置过期时间为 30 秒
(integer) 1
```

列出所有数据库：

``` sh
CONFIG GET databases
1) "databases"
2) "16"
```

``` sh
127.0.0.1:6379[1]> INFO keyspace
# Keyspace
db0:keys=10,expires=10,avg_ttl=140298
db1:keys=3774,expires=3770,avg_ttl=73246701
```

选择数据库

``` sh
select 1
```

